# Assetto Corsa Script

–ù–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è **Assetto Corsa (2014)** –ø–æ–¥ Windows:
- —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å **—Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏** (Shared Memory);
- –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π **–æ–≤–µ—Ä–ª–µ–π** —Ä—É–ª—è/–ø–µ–¥–∞–ª–µ–π –∏ –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏–π;
- **–º–∞–ø–ø–µ—Ä –∫–Ω–æ–ø–æ–∫** —Ä—É–ª—è/–≥–µ–π–º–ø–∞–¥–∞ ‚Üí –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏;
- –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **–º—É–∑—ã–∫–æ–π**: —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ–¥–∏–∞–∫–ª–∞–≤–∏—à–∏/SMTC, —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏, –∑–∞–ø–∏—Å—å —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞ –≤ —Ñ–∞–π–ª.

> –ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ **Assetto Corsa** (–Ω–µ ACC). –†–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è **Content Manager (CM)** –∏ **Custom Shaders Patch (CSP)**. –¢—Ä–µ–±—É–µ—Ç—Å—è Windows 10/11 –∏ Python 3.10+ (–ª—É—á—à–µ 3.11).

---

## –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–í—Å–µ —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ –∫–æ—Ä–Ω–µ:

```
Assetto-Corsa-Script/
‚îú‚îÄ __pycache__/
‚îú‚îÄ # moza_ac_music_combo.py   # —Ñ–∞–π–ª —Å –≤–µ–¥—É—â–∏–º —Å–∏–º–≤–æ–ª–æ–º '#'. –°–º. –∑–∞–º–µ—Ç–∫—É –Ω–∏–∂–µ.
‚îú‚îÄ README.md
‚îú‚îÄ ac_telemetry.py
‚îú‚îÄ ac_telemetry_calib.json
‚îú‚îÄ moza_buttons_mapper.py
‚îú‚îÄ moza_monitor.py
‚îî‚îÄ ym_smtc_to_file.py
```

**–ó–∞–º–µ—Ç–∫–∞ –ø—Ä–æ `# moza_ac_music_combo.py`:** –∏–º—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `#` ‚Äî —ç—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –æ–ø–µ—á–∞—Ç–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ. Windows –∏ Python —Ç–∞–∫–æ–µ –∏–º—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç, –Ω–æ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —É–¥–æ–±–Ω–µ–µ –ø–æ—Å–ª–µ **–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è** –≤ `moza_ac_music_combo.py`. –ü–æ–∫–∞ –Ω–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–∞–∫:  
`python "# moza_ac_music_combo.py"` (–≤ –∫–∞–≤—ã—á–∫–∞—Ö).

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

```powershell
# 1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/Iosif2321/Assetto-Corsa-Script.git
cd Assetto-Corsa-Script

# 2) –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
py -3.11 -m venv .venv
.\.venv\Scripts\activate

# 3) –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å—Ç–∞–≤–∏–º –≤—Ä—É—á–Ω—É—é)
pip install pygame pywin32 keyboard psutil matplotlib Pillow winsdk
```

> –î–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –≥–µ–π–º–ø–∞–¥–∞ –≤–Ω–µ —Ñ–æ–∫—É—Å–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `SDL_JOYSTICK_ALLOW_BACKGROUND_EVENTS=1` (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ –∫–æ–¥–∞).

---

## –°–∫—Ä–∏–ø—Ç—ã –∏ –∑–∞–ø—É—Å–∫

–ù–∏–∂–µ ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Ç–∏–ø–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞. –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏/–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —à–∞–ø–∫–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ `.py`.

### `ac_telemetry.py`
–ß—Ç–µ–Ω–∏–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ AC (Shared Memory), –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª—ã.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python ac_telemetry.py --csv telemetry.csv --fps 30
```
**–¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--csv <path>` ‚Äî –ª–æ–≥ –≤ CSV;
- `--json <path>` ‚Äî –ª–æ–≥ –≤ JSON;
- `--fps <N>` ‚Äî —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è;
- `--headless` ‚Äî –∑–∞–ø–∏—Å—å –±–µ–∑ –æ–∫–Ω–∞.

### `moza_monitor.py`
–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω: —É–≥–æ–ª —Ä—É–ª—è (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö –∏ %), –ø–µ–¥–∞–ª–∏ (0‚Äì100%), –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ñ–∞–π–ª –∏ –Ω–∞–±–æ—Ä –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–∏–Ω–∏/–ø–æ–ª–Ω–æ–≥–æ –≤–∏–¥–∞, always-on-top, –∑–∞–ø–∏—Å—å –∏ —Ç.–ø.).

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python moza_monitor.py
```
> –ï—Å–ª–∏ –ø–µ–¥–∞–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 2‚Äì98%, –æ—Ç–∫–∞–ª–∏–±—Ä—É–π—Ç–µ –≤ –¥—Ä–∞–π–≤–µ—Ä–µ —Ä—É–ª—è (MOZA Pit House –∏ —Ç.–ø.) –∏/–∏–ª–∏ –≤ —Å–∞–º–æ–º —Å–∫—Ä–∏–ø—Ç–µ (–º–µ—Ä—Ç–≤—ã–µ –∑–æ–Ω—ã/–∞–≤—Ç–æ–∫–∞–ª–∏–±—Ä–æ–≤–∫–∞). –î–ª—è —Ä—É–ª—è –∑–∞–¥–∞–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —É–≥–æ–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–æ–±—ã—á–Ω–æ 900¬∞).

### `moza_buttons_mapper.py`
–ú–∞–ø–ø–µ—Ä –∫–Ω–æ–ø–æ–∫ —Ä—É–ª—è/–≥–µ–π–º–ø–∞–¥–∞ –Ω–∞ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏/–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∫–∞–º–µ—Ä—ã, –≤–∑–≥–ª—è–¥ –Ω–∞–∑–∞–¥, –º–∏–≥–∞–ª–∫–∏, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é –ø–∏—Ç-—Å—Ç–æ–ø–∞ –∏ –¥—Ä.). –≠–º—É–ª—è—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ WinAPI/—Å–∫–∞–Ω-–∫–æ–¥—ã, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –ø–æ–≤–µ—Ä—Ö –ª—é–±—ã—Ö –æ–∫–æ–Ω.

**–ó–∞–ø—É—Å–∫ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞):**
```bash
python moza_buttons_mapper.py
```

### `moza_ac_music_combo.py` *(–∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ `# moza_ac_music_combo.py`)*
–°–≤—è–∑–∫–∞ AC ‚Üî –ø–ª–µ–µ—Ä: —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ–¥–∏–∞–∫–ª–∞–≤–∏—à–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏, –ø–∞—É–∑–∞ –Ω–∞ –ø–∏—Ç-–ª–µ–π–Ω–µ, —Ö–æ—Ç–∫–µ–∏ —Å–ª–µ–¥/–ø—Ä–µ–¥ —Ç—Ä–µ–∫ –∏ —Ç.–¥.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python moza_ac_music_combo.py
# –∏–ª–∏ –µ—Å–ª–∏ –µ—â—ë –Ω–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏:
python "# moza_ac_music_combo.py"
```
**–¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):**
- `--player yandex|aimp|system`
- `--speed-volume on|off`
- `--hotkeys on|off`

### `ym_smtc_to_file.py`
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **SMTC** (System Media Transport Controls) Windows: —Å—á–∏—Ç—ã–≤–∞–µ—Ç *—Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫* –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–π –º–µ–¥–∏–∞—Å–µ—Å—Å–∏–∏ (–Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞, Spotify, –±—Ä–∞—É–∑–µ—Ä –∏ —Ç.–ø.) –∏ –ø–∏—à–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `aimp_now_playing.txt` –≤ *–î–æ–∫—É–º–µ–Ω—Ç–∞—Ö/Assetto Corsa*). –¢–∞–∫–∂–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ä—É–ª–µ –¥–ª—è Play/Pause/Next/Prev.

**–ó–∞–ø—É—Å–∫:**
```bash
python ym_smtc_to_file.py
```
> –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π SMTC-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–µ–Ω –ø–∞–∫–µ—Ç `winsdk`. –ü—É—Ç—å —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ (–∏—â–∏—Ç–µ `OUTPUT_FILE`).

---

## `ac_telemetry_calib.json` ‚Äî –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –æ—Å–µ–π

–§–∞–π–ª —Ö—Ä–∞–Ω–∏—Ç —ç–∫—Å—Ç—Ä–µ–º—É–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–≤–µ—Ä—Å–∏–∏ –æ—Å–µ–π –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```json
{
  "joystick": {
    "<DEVICE_ID>": {
      "min": -1.0,
      "max": 0.250213623046875,
      "invert": false
    }
  }
}
```
- `min`/`max` ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫—Ä–∞–π–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è;
- `invert` ‚Äî –∏–Ω–≤–µ—Ä—Å–∏—è –æ—Å–∏;
- `<DEVICE_ID>` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

–§–∞–π–ª —Å–æ–∑–¥–∞—ë—Ç—Å—è/–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏. –£–¥–∞–ª–∏—Ç–µ –µ–≥–æ –¥–ª—è ¬´—á–∏—Å—Ç–æ–π¬ª –ø–µ—Ä–µ–∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.

---

## –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏–∑ Content Manager

**CM ‚Üí Settings ‚Üí Drive ‚Üí Launchers ‚Üí Run program (Before/After):**

–°–æ–∑–¥–∞–π—Ç–µ `.bat`, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv –∏ –ø–æ–¥–Ω—è—Ç—å –Ω—É–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:

```bat
@echo off
cd /d "%~dp0"
call ".venv\Scripts\activate.bat"
start "" python "%~dp0\moza_monitor.py"
start "" python "%~dp0\moza_buttons_mapper.py"
rem –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
rem start "" python "%~dp0\moza_ac_music_combo.py"
```

- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω **–∞–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø** –¥–ª—è –º–∞–ø–ø–µ—Ä–∞ ‚Äî –∑–∞–ø—É—Å–∫–∞–π—Ç–µ .bat —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (—è—Ä–ª—ã–∫ ‚Üí –°–≤–æ–π—Å—Ç–≤–∞ ‚Üí –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ‚Üí ¬´–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞¬ª) –ª–∏–±–æ —á–µ—Ä–µ–∑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π —Å —Ñ–ª–∞–∂–∫–æ–º *Run with highest privileges*.

---


–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω ‚Äî ‚≠ê –∑–≤–µ–∑–¥–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –æ—á–µ–Ω—å –ø–æ–º–æ–∂–µ—Ç. –£–¥–∞—á–∏ –Ω–∞ —Ç—Ä–∞—Å—Å–µ! üèÅ
